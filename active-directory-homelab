active-directory-homelab/
â”œâ”€â”€ README.md
â”œâ”€â”€ architecture/
â”‚   â””â”€â”€ topology-diagram.png
â”œâ”€â”€ setup/
â”‚   â”œâ”€â”€ ad-domain-controller.md
â”‚   â”œâ”€â”€ splunk-install.md
â”‚   â”œâ”€â”€ kali-linux-setup.md
â”‚   â”œâ”€â”€ atomic-red-team-usage.md
â”‚   â””â”€â”€ raspberry-pi-config.md
â”œâ”€â”€ telemetry/
â”‚   â”œâ”€â”€ attack-simulations/
â”‚   â”œâ”€â”€ logs/
â”‚   â””â”€â”€ detection-summaries.md
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ install-splunk.sh
â”‚   â”œâ”€â”€ configure-ad.ps1
â”‚   â””â”€â”€ run-atomic-tests.ps1
â””â”€â”€ notes/
    â””â”€â”€ learning-journal.md
ğŸ—ºï¸ Phase 1: Topology + Initial Installations
âœ… Topology Overview
Here's the visual and structural layout for your lab setup:

                         +-------------------+
                         |  Domain Controller |
                         | Windows Server   |
                         | AD + DNS + DHCP    |
                         | IP: 192.168.1.10   |
                         +-------------------+
                                  |
         ---------------------------------------------------
         |                       |                         |
+------------------+   +------------------+      +------------------+
|    Kali Linux Pi |   |   Splunk Server  |      |  Domain-Joined   |
| (Attacker Node)  |   |   (SIEM Host)    |      |  Windows Client  |
| IP: 192.168.1.11 |   | IP: 192.168.1.12 |      | IP: 192.168.1.13 |
+------------------+   +------------------+      +------------------+

All VMs will be on the same custom VMnet (e.g., VMnet2 - Host-Only or Bridged) to simulate a local domain.

ğŸ’» VMs to Create & Install
ğŸ–¥ï¸ 1. Domain Controller (DC)
VM Name: DC-Homelab

OS: Windows Server 2019 or 2022

Specs: 2 CPU, 4 GB RAM, 60 GB Disk

Setup:

Rename PC (e.g., DC01)

Set static IP: 192.168.1.10

Install Active Directory Domain Services

Promote to DC with forest name: homelab.local

Add DNS and DHCP roles (optional)

ğŸ–¥ï¸ 2. Kali Linux (Attacker Node)
VM Name: Kali-Attacker

OS: Kali Linux

Specs: 2 CPU, 2-4 GB RAM, 40 GB Disk

Setup:

Set static IP:192.168.1.11

Install:

Nmap

BloodHound

CrackMapExec

Mimikatz

Metasploit

Neo4j

ğŸ–¥ï¸ 3. Splunk Server
VM Name: Splunk-SIEM

OS: Ubuntu Server or Windows Server (your choice)

Specs: 2-4 CPU, 4-8 GB RAM, 80 GB Disk

Setup:

Static IP: 192.168.1.12

Install Splunk Enterprise (Free license)

Open Web UI at http://192.168.56.12:8000

ğŸ–¥ï¸ 4. Windows Client
VM Name: WinClient01

OS: Windows 10/11

Specs: 2 CPU, 4 GB RAM, 50 GB Disk

Setup:

Set static IP:  192.168.1.13

Join homelab.local domain

Install Splunk Universal Forwarder (later)

Enable verbose logging for security, powershell, etc.

ğŸŒ Step-by-Step: Configure a Custom NAT Network for All VMs
âœ… 1. Open Virtual Network Editor
Open VMware Workstation (or VMware Pro).

Go to the top menu:
Edit â†’ Virtual Network Editor

Click "Change Settings" (run as admin if prompted).

âœ… 2. Create a New Custom NAT Network
Click "Add Network"

Choose an unused network (e.g., VMnet2 or VMnet3)

Click OK or Next

âœ… 3. Configure the NAT Settings
For example, if you're using VMnet2:

Network Type: NAT

Subnet IP: 192.168.1.0

Subnet Mask: 255.255.255.0

Use local DHCP: âœ… (Optional â€” disable if you want static IP only)

Gateway IP: Auto-assigned (e.g., 192.168.1.2)

Click Apply

You can also disable DHCP and assign static IPs inside each VM instead.

âœ… 4. Assign VMnet2 to All VMs
For each VM (DC, Kali, Splunk, Windows Client):

Right-click the VM â†’ Settings

Go to Network Adapter

Select: Custom: Specific virtual network â†’ Choose VMnet2

Click OK
âœ… 5. Assign Static IPs Inside Each VM
âœ… 6. Test Network Connectivity






