active-directory-homelab/
├── README.md
├── architecture/
│   └── topology-diagram.png
├── setup/
│   ├── ad-domain-controller.md
│   ├── splunk-install.md
│   ├── kali-linux-setup.md
│   ├── atomic-red-team-usage.md
│   └── raspberry-pi-config.md
├── telemetry/
│   ├── attack-simulations/
│   ├── logs/
│   └── detection-summaries.md
├── scripts/
│   ├── install-splunk.sh
│   ├── configure-ad.ps1
│   └── run-atomic-tests.ps1
└── notes/
    └── learning-journal.md
🗺️ Phase 1: Topology + Initial Installations
✅ Topology Overview
Here's the visual and structural layout for your lab setup:

                         +-------------------+
                         |  Domain Controller |
                         | Windows Server   |
                         | AD + DNS + DHCP    |
                         | IP: 192.168.1.10   |
                         +-------------------+
                                  |
         ---------------------------------------------------
         |                       |                         |
+------------------+   +------------------+      +------------------+
|    Kali Linux Pi |   |   Splunk Server  |      |  Domain-Joined   |
| (Attacker Node)  |   |   (SIEM Host)    |      |  Windows Client  |
| IP: 192.168.1.11 |   | IP: 192.168.1.12 |      | IP: 192.168.1.13 |
+------------------+   +------------------+      +------------------+

All VMs will be on the same custom VMnet (e.g., VMnet2 - Host-Only or Bridged) to simulate a local domain.

💻 VMs to Create & Install
🖥️ 1. Domain Controller (DC)
VM Name: DC-Homelab

OS: Windows Server 2019 or 2022

Specs: 2 CPU, 4 GB RAM, 60 GB Disk

Setup:

Rename PC (e.g., DC01)

Set static IP: 192.168.1.10

Install Active Directory Domain Services

Promote to DC with forest name: homelab.local

Add DNS and DHCP roles (optional)

🖥️ 2. Kali Linux (Attacker Node)
VM Name: Kali-Attacker

OS: Kali Linux

Specs: 2 CPU, 2-4 GB RAM, 40 GB Disk

Setup:

Set static IP:192.168.1.11

Install:

Nmap

BloodHound

CrackMapExec

Mimikatz

Metasploit

Neo4j

🖥️ 3. Splunk Server
VM Name: Splunk-SIEM

OS: Ubuntu Server or Windows Server (your choice)

Specs: 2-4 CPU, 4-8 GB RAM, 80 GB Disk

Setup:

Static IP: 192.168.1.12

Install Splunk Enterprise (Free license)

Open Web UI at http://192.168.56.12:8000

🖥️ 4. Windows Client
VM Name: WinClient01

OS: Windows 10/11

Specs: 2 CPU, 4 GB RAM, 50 GB Disk

Setup:

Set static IP:  192.168.1.13

Join homelab.local domain

Install Splunk Universal Forwarder (later)

Enable verbose logging for security, powershell, etc.

🌐 Step-by-Step: Configure a Custom NAT Network for All VMs
✅ 1. Open Virtual Network Editor
Open VMware Workstation (or VMware Pro).

Go to the top menu:
Edit → Virtual Network Editor

Click "Change Settings" (run as admin if prompted).

✅ 2. Create a New Custom NAT Network
Click "Add Network"

Choose an unused network (e.g., VMnet2 or VMnet3)

Click OK or Next

✅ 3. Configure the NAT Settings
For example, if you're using VMnet2:

Network Type: NAT

Subnet IP: 192.168.1.0

Subnet Mask: 255.255.255.0

Use local DHCP: ✅ (Optional — disable if you want static IP only)

Gateway IP: Auto-assigned (e.g., 192.168.1.2)

Click Apply

You can also disable DHCP and assign static IPs inside each VM instead.

✅ 4. Assign VMnet2 to All VMs
For each VM (DC, Kali, Splunk, Windows Client):

Right-click the VM → Settings

Go to Network Adapter

Select: Custom: Specific virtual network → Choose VMnet2

Click OK
✅ 5. Assign Static IPs Inside Each VM
✅ 6. Test Network Connectivity






